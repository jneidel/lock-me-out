extends layout

block styles
  link( rel="stylesheet" type="text/css" href="css/new.css" )

block content
  h1 New user
  p Users collect items in one place
  p Warning: GPG key generation is currently extremly slow, expect a waiting time of up to 1 minute! (<a href="https://github.com/jneidel/lock-me-out#speed-notice">more info</a>)
  form( method="post" action="/api/new-user" )
    label( for="username" ) <span class="required -error">required</span> Username
    - const userValue = user ? user : "";
    input( type="text" name="username" value=`${userValue}` required autofocus minlength="5" maxlength="35" )

    label( for="passphrase" ) <span class="required -warn">recommended</span> Passphrase to encrypt your items with (<a href="https://github.com/jneidel/lock-me-out#how-it-works">more info</a>)
    input( type="password" name="passphrase" )
    button( type="submit" ) Submit user
